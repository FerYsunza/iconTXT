<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IconTXT - iOS App Icon Generator</title>
  <meta name="description" content="Generate a 1024x1024 opaque PNG app icon with text and color controls.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Manrope:wght@400;500;600;700&family=Montserrat:wght@400;600;700&family=Nunito:wght@400;700&family=Poppins:wght@400;600;700&family=Roboto+Slab:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles/main.css">
</head>
<body>
  <header class="topbar">
    <div>
      <h1>IconTXT</h1>
      <p class="subtitle">Generate a square 1024x1024 source icon PNG</p>
    </div>
    <button id="themeToggle" class="button button-secondary" type="button" aria-label="Toggle light and dark theme">
      Toggle Theme
    </button>
  </header>

  <main class="layout" aria-label="Icon generator">
    <section class="panel controls" aria-label="Controls">
      <h2>Controls</h2>

      <div class="control-group">
        <label for="iconText">Text</label>
        <input id="iconText" name="iconText" type="text" maxlength="20" value="MyApp" placeholder="Enter icon text">
      </div>

      <div class="control-row">
        <div class="control-group">
          <label for="backgroundColor">Background Color</label>
          <input id="backgroundColor" name="backgroundColor" type="color" value="#0a84ff">
        </div>
        <div class="control-group">
          <label for="fontColor">Text Color</label>
          <input id="fontColor" name="fontColor" type="color" value="#ffffff">
        </div>
      </div>

      <div class="control-group">
        <label for="fontFamily">Font Family</label>
        <select id="fontFamily" name="fontFamily">
          <option value="Poppins" selected>Poppins</option>
          <option value="Montserrat">Montserrat</option>
          <option value="Nunito">Nunito</option>
          <option value="Roboto Slab">Roboto Slab</option>
          <option value="Archivo Black">Archivo Black</option>
        </select>
      </div>

      <div class="control-group">
        <div class="label-row">
          <label for="fontSize">Font Size</label>
          <output id="fontSizeValue" for="fontSize">320 px</output>
        </div>
        <input id="fontSize" name="fontSize" type="range" min="40" max="700" step="2" value="320">
      </div>

      <div class="control-row toggles">
        <label class="checkbox-label" for="isBold">
          <input id="isBold" name="isBold" type="checkbox" checked>
          Bold
        </label>
        <label class="checkbox-label" for="isItalic">
          <input id="isItalic" name="isItalic" type="checkbox">
          Italic
        </label>
      </div>

      <div class="control-group">
        <label for="textAlign">Text Alignment</label>
        <select id="textAlign" name="textAlign">
          <option value="left">Left</option>
          <option value="center" selected>Center</option>
          <option value="right">Right</option>
        </select>
      </div>

      <div class="control-group">
        <div class="label-row">
          <label for="positionX">Position X</label>
          <output id="positionXValue" for="positionX">50%</output>
        </div>
        <input id="positionX" name="positionX" type="range" min="0" max="100" step="1" value="50">
      </div>

      <div class="control-group">
        <div class="label-row">
          <label for="positionY">Position Y</label>
          <output id="positionYValue" for="positionY">50%</output>
        </div>
        <input id="positionY" name="positionY" type="range" min="0" max="100" step="1" value="50">
      </div>

      <p id="textWarning" class="note" aria-live="polite"></p>

      <button id="downloadBtn" class="button button-primary" type="button">Download PNG</button>
      <p class="note">Output is a square source icon; final rounded masking is handled by iOS/App Store tooling.</p>
    </section>

    <section class="panel preview" aria-label="Live Preview">
      <h2>Live Preview</h2>
      <div class="canvas-wrap">
        <canvas id="iconCanvas" width="1024" height="1024" role="img" aria-label="App icon preview"></canvas>
      </div>
      <p class="note">Canvas renders at exactly 1024x1024 pixels and exports as an opaque PNG.</p>
    </section>
  </main>

  <script src="js/app.js"></script>
</body>
</html>
